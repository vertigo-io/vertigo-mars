<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
  xmlns:vu="https://vertigo.io/thymeleaf/vertigo-ui"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{templates/mmcParentLayout}"
>
	<head>
		<title>Maintenance Dashboard</title>		
	</head>
	
	<body>
	
		<section>
			<div layout:fragment="content-header-title">
				
			</div>
			<div layout:fragment="content-header-actions">
			</div>
		</section>
		
		<section layout:fragment="page-container">
	 	<q-page padding class="row col-12 q-gutter-md">
			<div class="col content-body ">
	 			<div class="row q-col-gutter-md">
	 				<div class="col-lg-3 col-md-6 col-12">
						<vu:block title="Closed this week" header_th:classappend="text-center" content_th:classappend="'row justify-center items-center'" card_style="height: 150px;">
							<span class="indicator text-positive" vu:text="12" />
						</vu:block>
					</div>
					<div class="col-lg-3 col-md-6 col-12">
						<vu:block title="Active Work orders" header_th:classappend="text-center" content_th:classappend="'row justify-center items-center'" card_style="height: 150px;">
							<span class="indicator text-positive" vu:text="15" />
						</vu:block>
					</div>
					<div class="col-lg-3 col-md-6 col-12">
						<vu:block title="Monthly delay" header_th:classappend="text-center" content_th:classappend="'row justify-center items-center'" card_style="height: 150px;">
							<span class="indicator text-positive" vu:text="3" /> day(s)
						</vu:block>
					</div>
					<div class="col-lg-3 col-md-6 col-12">
						<vu:block title="Weekly delay" header_th:classappend="text-center" content_th:classappend="'row justify-center items-center'" card_style="height: 150px;">
							<span class="indicator text-positive" vu:text="2" /> day(s) <q-icon size="20px" color="positive" name="fas fa-arrow-up" ></q-icon>
						</vu:block>
					</div>

					<vu:table title="Lastest created tickets" list="lastTickets" componentId="lastTickets" rowsPerPage="5"
					th:tr_@click.native="|goTo('@{/maintenance/ticket/}'+props.row.ticketId)|" tr_class="nav">
						<vu:include-data object="lastTickets" field="ticketId" />
						<vu:column field="code" />
						<vu:column field="title" />
						<vu:column field="dateCreated" />
						<vu:column name="status" label="Status" >
							<vu:field-read field="ticketStatusId" list="ticketStatus" />
						</vu:column>
					</vu:table>
	 			</div>
		</q-page>
	</section>
	
	</body>
</html>